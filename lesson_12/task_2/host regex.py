import re

regex = (r'\b' +
            r'(' +
                r'\b' +
                r'(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\.' +
                r'(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\.' +
                r'(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\.' +
                r'(25[0-4]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])' +
                r'\b' +
            r'|' +
                r'\b(([a-zA-Z0-9]+([-]{1}|[-]{3})[a-zA-Z0-9]+)|[a-zA-Z]+)(\.[a-zA-Z0-9]+)+\b' +
            r'|' +
                r'localhost' +
            r'){1}' +
            r'(' +
                r'\b\:(6553[0-5]|655[0-2][0-9]|65[0-4][0-9][0-9]|6[0-4][0-9][0-9][0-9]|' +
                r'[1-5][0-9][0-9][0-9][0-9]|[1-9][0-9][0-9][0-9]|[1-9][0-9][0-9]|[1-9][0-9]|[1-9])\b' +
            r')?' +
         r'\b')

test_str = ([
    'localhost:5000',
    '127.0.0.1:5000',
    '12.44.33.254:9800',
    '127.0.0.1',
    '127.0.0.254',
    '127.0.0.255',
    'g-mail.com:65535'])

ls = list(map(lambda x: re.search(regex, x), test_str))
print(ls)

for m in ls:
    if m is not None:
        print(m.groups())
